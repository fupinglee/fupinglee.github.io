<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 安卓渗透利器AndroTickler使用排雷指北 · 浮萍's Blog</title><meta name="description" content="安卓渗透利器AndroTickler使用排雷指北 - 浮萍"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="search" type="application/opensearchdescription+xml" href="https://fuping.site/atom.xml" title="浮萍's Blog"><script src="//code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="浮萍's Blog" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">主页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">所有文章</a></li><li class="nav-list-item"><a href="/tags" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">关于</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="/search" target="_self" class="nav-list-link search"><i class="fa fa-search" aria-hidden="true"></i></a></li></ul></header><main class="container"></main><div class="post"><article class="post-block"><h1 class="post-title">安卓渗透利器AndroTickler使用排雷指北</h1><div class="post-info">Jan 3, 2018<span class="categories"><i class="fa fa-bookmark" aria-hidden="true"></i></span><a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" class="post-category">#工具使用</a></div><div class="post-content"><h1 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h1><p>AndroTickler是一款用于Android应用程序渗透测试和审计的工具包。更多介绍可以参考<a href="https://github.com/ernw/AndroTickler" target="_blank" rel="noopener">https://github.com/ernw/AndroTickler</a> 。本文主要记录一下在使用过程中所遇到的问题和解决的方法。</p>
<p>本文的测试环境如下：系统为win10 x64，jdk版本为java8，gradle版本为4.1。采用了夜神模拟器。</p>
<p>主要包括以下几个方面。</p>
<ol>
<li>编译环境的准备</li>
<li>使用过程中遇到的问题以及解决方法</li>
</ol>
<a id="more"></a>
<h1 id="0x02-编译环境的准备"><a href="#0x02-编译环境的准备" class="headerlink" title="0x02 编译环境的准备"></a>0x02 编译环境的准备</h1><h2 id="1-Gradle的安装"><a href="#1-Gradle的安装" class="headerlink" title="1. Gradle的安装"></a>1. Gradle的安装</h2><p>首先需要安装Java，我采用的是Java8（安装工具说明，需要Java7以上）。下载地址：<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a> 。（安装过程省略）</p>
<p>关于gradle的安装可以参考<a href="https://gradle.org/install/" target="_blank" rel="noopener">https://gradle.org/install/</a> ，我这里是直接下载安装包<a href="https://services.gradle.org/distributions/gradle-4.4.1-bin.zip，" target="_blank" rel="noopener">https://services.gradle.org/distributions/gradle-4.4.1-bin.zip，</a> 解压之后添加环境变量。<br><img src="gradle%E5%AE%89%E8%A3%85.jpg" alt="gradle安装"></p>
<h2 id="2-cmder工具安装"><a href="#2-cmder工具安装" class="headerlink" title="2. cmder工具安装"></a>2. cmder工具安装</h2><p>该步骤非必需，可以省略。<br>下载地址：<a href="https://github.com/cmderdev/cmder/releases/" target="_blank" rel="noopener">https://github.com/cmderdev/cmder/releases/</a><br>解压添加环境变量即可使用。<br><img src="cmder%E5%B7%A5%E5%85%B7.jpg" alt="cmder工具"></p>
<blockquote>
<p>使用该工具除了界面好看外，可以多个tab，也可以运行部分linux命令。当然也可以使用其他工具，如cygwin。如果没有使用这类工具的话，需要将代码中一些命令修改，如<code>cp</code>命令。</p>
</blockquote>
<h2 id="3-Git工具安装"><a href="#3-Git工具安装" class="headerlink" title="3. Git工具安装"></a>3. Git工具安装</h2><p>该步骤非必需，可以省略。<br>下载地址：<a href="https://desktop.github.com/" target="_blank" rel="noopener">https://desktop.github.com/</a><br>安装即可。然后下载 <a href="https://github.com/ernw/AndroTickler" target="_blank" rel="noopener">AndroTickler</a><br><img src="%E4%B8%8B%E8%BD%BD.jpg" alt="下载"></p>
<h2 id="4-其他工具安装"><a href="#4-其他工具安装" class="headerlink" title="4.其他工具安装"></a>4.其他工具安装</h2><p>还需要安装adb, sqlite3, strings等工具。<br>adb的话安装夜神模拟器的时候自动，名字为nox_adb，功能一样。<br>sqlite3可以用<a href="https://www.sqlite.org/" target="_blank" rel="noopener">https://www.sqlite.org/</a> 下载。<br>strings的官网，<a href="https://docs.microsoft.com/en-us/sysinternals/downloads/strings" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/sysinternals/downloads/strings</a> ，下载地址为：<br><a href="https://download.sysinternals.com/files/Strings.zip" target="_blank" rel="noopener">https://download.sysinternals.com/files/Strings.zip</a> 。解压后加入环境变量即可。</p>
<p>然后就是开始编译和使（入）用（坑）了。</p>
<h1 id="0x03-使用过程中遇到的问题以及解决方法"><a href="#0x03-使用过程中遇到的问题以及解决方法" class="headerlink" title="0x03 使用过程中遇到的问题以及解决方法"></a>0x03 使用过程中遇到的问题以及解决方法</h1><p>上面环境已经搭建好了，代码也下载了，然后就开始入坑吧。<br>编译的话很简单，使用命令<code>gradle &amp;&amp; gradle build</code>即可。<br><img src="%E7%BC%96%E8%AF%91.jpg" alt="编译"><br>然后会在build\libs目录下生成AndroTickler.jar文件。</p>
<p>软件生成了，那么看看有什么功能吧，使用命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar AndroTickler.jar -h</span><br></pre></td></tr></table></figure>
<p><img src="%E4%BD%BF%E7%94%A8%E5%B8%AE%E5%8A%A9.jpg" alt="使用帮助"></p>
<p>貌似一切正常。下面开始查看安装的app。</p>
<p>使用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar AndroTickler.jar -pkgs</span><br></pre></td></tr></table></figure>
<p><img src="%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E7%9A%84app1.jpg" alt="查看安装的app1"></p>
<p>并没有返回安装的app<br>已知列出已经安装的app命令是<code>adb shell pm list package</code><br>而我用的模拟器，所以应该使用命令是<code>nox_adb shell pm list package</code><br><img src="%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E7%9A%84app2.jpg" alt="查看安装的app2"><br>所以这里要替换程序中的adb为nox_adb。<br>这里我用idea来打开代码<br>然后将命令中的<code>adb</code>替换为<code>nox_adb</code>即可<br><img src="%E6%9B%BF%E6%8D%A2adb%E5%91%BD%E4%BB%A4.jpg" alt="替换adb命令"><br>替换后重新编译并查看已安装的app。<br><img src="%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E7%9A%84app3.jpg" alt="查看安装的app3"></p>
<p>发现列出了安装过的app。虽然有警告，暂且不管。<br>查找特定的app并查看信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java -jar AndroTickler.jar -findPkg com.example.simpleencryption</span><br><span class="line">java -jar AndroTickler.jar -pkg com.example.simpleencryption -info</span><br></pre></td></tr></table></figure>
<p><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF.jpg" alt="查看app信息"></p>
<p>发现报错，提示没有连接的设备。<br>通过adb查看连接的设备。<br><code>nox_adb devices -l</code><br><img src="%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%AE%BE%E5%A4%87.jpg" alt="连接的设备"><br>发现有，但是使用工具未查看到。<br>通过错误的信息，定位到initialization\TicklerChecks.java的checkDevices方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">checkDevices</span><span class="params">()</span> <span class="keyword">throws</span> TNotFoundEx</span>&#123;</span><br><span class="line">	String command = <span class="string">"nox_adb devices -l"</span>;</span><br><span class="line">	Commando commando = <span class="keyword">new</span> Commando();</span><br><span class="line">	String op = commando.executeCommand(command);</span><br><span class="line">	</span><br><span class="line">	OtherUtil oU = <span class="keyword">new</span> OtherUtil();</span><br><span class="line">	ArrayList&lt;String&gt; devices = oU.getRegexFromString(op, <span class="string">"(model:.*?device:.+$?)"</span>);</span><br><span class="line">	<span class="keyword">int</span> eligDevices = devices.size();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (eligDevices&gt;<span class="number">1</span>)</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> TNotFoundEx(<span class="string">"ERROR: 2 or more Android devices are connected to the host, please connect only one Android device."</span>);</span><br><span class="line">	<span class="keyword">if</span> (eligDevices == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> TNotFoundEx(<span class="string">"ERROR: No Android devices detected by the host. Execute adb devices -l to check the connected devices"</span>);</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>发现通过命令查询的结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List of devices attached</span><br><span class="line">127.0.0.1:62025        device</span><br></pre></td></tr></table></figure>
<p>明显通过正则不能匹配，那就改正则了。<br>为了方便，直接改为<code>ArrayList&lt;String&gt; devices = oU.getRegexFromString(op, &quot;(.*device\\n)&quot;);</code></p>
<p>然后编译运行。<br><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF1.jpg" alt="查看app信息1"><br>这个提示libs需要和jar文件在同一目录。将Tickler.conf和libs复制到与AndroTickler.jar同一目录。<br><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF2.jpg" alt="查看app信息2"><br>竟然报同样的错误，而且该目录下出现了一个H的文件夹。<br>通过错误的信息，定位到initialization\TicklerChecks.java的checkExternalLibDir方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkExternalLibDir</span><span class="params">()</span> <span class="keyword">throws</span> TNotFoundEx</span>&#123;</span><br><span class="line">	String jarLoc = <span class="keyword">this</span>.getJarLocation();</span><br><span class="line">	String libDirLoc=jarLoc+TicklerConst.generalLibName;</span><br><span class="line">	File tickLib = <span class="keyword">new</span> File (libDirLoc);</span><br><span class="line">	<span class="keyword">if</span> (tickLib.exists())&#123;</span><br><span class="line">		TicklerVars.isLib = <span class="keyword">true</span>;</span><br><span class="line">		TicklerVars.libDir = libDirLoc;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//Lib directory not found</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> TNotFoundEx(<span class="string">"Lib directory not found. \nMake sure that "</span>+TicklerConst.generalLibName+<span class="string">" directory exists in the same directory as Tickler.jar"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>查看代码，tickLib由jarLoc和TicklerConst.generalLibName拼接，而<code>TicklerConst.generalLibName</code>是常量，所以需要查看<code>jarLoc</code>是如何获取的。跟进getJarLocation方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getJarLocation</span><span class="params">()</span></span>&#123;</span><br><span class="line">	File myJar;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		</span><br><span class="line">		File myJar1 = <span class="keyword">new</span> File(System.getProperty(<span class="string">"java.class.path"</span>));<span class="comment">//获取jar路径</span></span><br><span class="line">		myJar = myJar1.getAbsoluteFile().getParentFile();<span class="comment">//获取jar上级目录</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">		myJar = <span class="keyword">new</span> File(<span class="string">"."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	String jarLoc = <span class="keyword">this</span>.correctJarLoc(myJar.getAbsolutePath());</span><br><span class="line">	<span class="keyword">return</span> jarLoc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>首先获取了运行的jar的路径，然后获取其父路径并将其值赋值给myJar。然后调用了correctJarLoc方法。<br>进行跟进correctJarLoc方法，进去查看</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">correctJarLoc</span><span class="params">(String jarLoc)</span></span>&#123;</span><br><span class="line">	String finalLoc=jarLoc;</span><br><span class="line">	<span class="keyword">if</span> (jarLoc.contains(<span class="string">":"</span>))<span class="comment">//wtf?  造成问题的代码</span></span><br><span class="line">		finalLoc = jarLoc.substring(<span class="number">0</span>, jarLoc.indexOf(<span class="string">":"</span>));<span class="comment">//wtf?  造成问题的代码</span></span><br><span class="line">	</span><br><span class="line">	Matcher m = Pattern.compile(<span class="string">"\\s+(.+)"</span>).matcher(jarLoc);</span><br><span class="line">	<span class="keyword">if</span> (m.find())</span><br><span class="line">		finalLoc = m.group(<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">if</span> (finalLoc.matches(<span class="string">".+\\n$"</span>))&#123;</span><br><span class="line">		finalLoc = finalLoc.substring(<span class="number">0</span>, jarLoc.length()-<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (finalLoc.matches(<span class="string">".+\\.$"</span>))&#123;</span><br><span class="line">		finalLoc = finalLoc.substring(<span class="number">0</span>, jarLoc.length()-<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (!finalLoc.matches(<span class="string">".+/$"</span>))&#123;</span><br><span class="line">		finalLoc = finalLoc+<span class="string">"/"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> finalLoc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后立马发现问题的所在了。这里因为是windows系统，所以路径出现<code>:</code>是很正常的，而这里直接截取了盘符。<br>这就是出现了一个名为H的文件夹的原因。<br>解决方法：删除这两行代码即可。<br>之后再编译运行。<br><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF3.jpg" alt="查看app信息3"><br>编译运行后发现警告没了，但新的错误出现了。<br>通过错误信息定位到apk\ApkToolClass.java的apkToolDecode方法。暂时先利用下面代码替换。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//File file = new File("/dev/null");</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"H:\\tmp\\"</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>从之后文件的内容来看，该文件里面会记录一些操作记录。</p>
</blockquote>
<p>再次编译运行，没有任何结果信息也没有报错。<br><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF4.jpg" alt="查看app信息4"><br>而在Tickler_workspace\com.example.simpleencryption\logs.pullLog.log发现了这样的日志。<br><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF5.jpg" alt="查看app信息5"><br>安装过的app保存位置为：<code>/data/app</code><br><img src="%E5%AE%89%E8%A3%85%E8%BF%87%E7%9A%84app.jpg" alt="安装过的app"><br>修改Tickler.conf文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Tickler_local_directory &#x3D; H:&#x2F;workspace&#x2F;eclipse&#x2F;AndroTickler&#x2F;build&#x2F;libs&#x2F;</span><br><span class="line">Tickler_sdcard_directory &#x3D; &#x2F;data&#x2F;app&#x2F;</span><br><span class="line">Frida_server_path &#x3D; &#x2F;data&#x2F;local&#x2F;tmp&#x2F;frida-server-10.3.14-android-arm</span><br></pre></td></tr></table></figure>

<p>编译运行，没有报错，查看Tickler_workspace\com.example.simpleencryption\logs.pullLog.log文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cannot create &#39;H:\workspace\eclipse\AndroTickler\build\libs\com.example.simpleencryption\\&#39;: Not a directory</span><br></pre></td></tr></table></figure>
<p>然后通过调试，来寻找错误的地方（这里的图为之前调试的图( ╯□╰ )）</p>
<p><img src="%E5%AF%BC%E5%87%BAapk%E9%94%99%E8%AF%AF.jpg" alt="导出apk错误"></p>
<p>执行的命令为：<code>nox_adb pull /data/app/com.jnu.ctf2017-1.apk H:/AndroTickler/com.jnu.ctf2017//</code><br>测试后发现，使用<code>adb pull</code>导出文件时，pc的路径最后不能有<code>\</code>或者<code>/</code><br><img src="%E5%AF%BC%E5%87%BA%E6%B5%8B%E8%AF%95.jpg" alt="导出测试"></p>
<p>直接修改base\FileUtil.java中copyDirToHost方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//		this.pullFromSDcard(TicklerVars.sdCardPath+srcName, dest+"/"); by fuping</span></span><br><span class="line">		<span class="keyword">this</span>.pullFromSDcard(TicklerVars.sdCardPath+srcName, dest);</span><br></pre></td></tr></table></figure>

<p>修改base\FileUtil.java中pullFromSDcard方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pullFromSDcard</span><span class="params">(String src, String dest)</span> </span>&#123;</span><br><span class="line">	String fName = <span class="keyword">this</span>.getFileNameFromPath(src);</span><br><span class="line">	<span class="keyword">this</span>.warnOverrideAndDelete(dest+fName);</span><br><span class="line">	<span class="comment">//by fuping</span></span><br><span class="line">	File f  = <span class="keyword">new</span> File(dest);</span><br><span class="line">	<span class="keyword">if</span>(!f.exists())&#123;</span><br><span class="line">		f.mkdirs();</span><br><span class="line">	&#125;<span class="comment">// by fuping</span></span><br><span class="line">	dest = f.getPath();</span><br><span class="line">	String command = <span class="string">"nox_adb pull "</span>+src+<span class="string">" "</span>+dest;</span><br><span class="line">	<span class="keyword">int</span> pullResult=<span class="keyword">this</span>.commando.executeProcessForAdbPull(command);</span><br><span class="line">	<span class="keyword">this</span>.deleteDirFromDevice(src);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF6.jpg" alt="查看app信息6"></p>
<p>还有一些需要更改的地方，例如将代码中调用dex2jar-2.1的<code>.sh</code>脚本改为<code>.bat</code> 。之后在编译运行。</p>
<p><img src="%E6%9F%A5%E7%9C%8Bapp%E4%BF%A1%E6%81%AF7.jpg" alt="查看app信息7"><br>此时这个工具才能算可以使用，还有其他功能（例如Frida），我并未测试。当然还可能还会有其他问题，这里就不再深入了。</p>
<p>这里放上一个查看app详细信息的结果。<br><img src="%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF1.jpg" alt="详细信息1"><br><img src="%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF2.jpg" alt="详细信息2"></p>
<blockquote>
<p>可以看到安装日期、使用权限、数据库存储等等信息。</p>
</blockquote>
<h1 id="0x04-总结"><a href="#0x04-总结" class="headerlink" title="0x04 总结"></a>0x04 总结</h1><p>虽然看起来在运行的时候有很多坑，但其原因也是环境的问题（我采用的是Windows）。而且我使用了模拟器而不是真机，所以也可能造成一些问题。但是这些都是无关紧要的，都是很小的错误，修改一下就可以用了。我这里仅仅使用了查看app信息的功能，并未测试其他功能。更多功能可以参考<a href="https://github.com/ernw/AndroTickler" target="_blank" rel="noopener">https://github.com/ernw/AndroTickler</a> 。</p>
</div><p class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%AE%89%E5%8D%93/">#安卓</a><a href="/tags/AndroTickler/">#AndroTickler</a></p></article></div><footer><div class="paginator"><a href="/2018/01/31/Unity3d-Android-Game-Reverse-Analysis-Of-The-Tabikaeru/" class="prev">PREV</a><a href="/2017/12/11/NEW-CVE-Monitor/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2022 <a href="https://fuping.site">浮萍</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-103156844-1",'auto');ga('send','pageview');</script><link rel="stylesheet" href="//cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css" media="screen" type="text/css"><script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script><script>$(function(){$('.datatable').dataTable( {"order": [[ 0, "desc" ]],"iDisplayLength": -1,"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]} );});</script></body></html>